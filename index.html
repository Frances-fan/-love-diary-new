<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æˆ‘ä»¬çš„æ‹çˆ±æ—¥è®° â¤ï¸</title>
    <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #ffe6e6 0%, #ffcccc 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(255, 105, 180, 0.2);
            overflow: hidden;
            border: 3px solid #ff6699;
        }
        
        /* å¤´éƒ¨ */
        .header {
            background: linear-gradient(to right, #ff6699, #ff3366);
            color: white;
            text-align: center;
            padding: 30px 20px;
            position: relative;
            overflow: hidden;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        /* æ‹çˆ±è®¡æ—¶å™¨ */
        .counter {
            background: white;
            margin: 20px;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border: 2px dashed #ff6699;
        }
        
        .counter h2 {
            color: #ff3366;
            margin-bottom: 15px;
            font-size: 1.8em;
        }
        
        #love-days {
            font-size: 3.5em;
            color: #ff3366;
            font-weight: bold;
            margin: 10px 0;
            text-shadow: 2px 2px 4px rgba(255, 51, 102, 0.2);
        }
        
        .date-input {
            margin-top: 20px;
            padding: 10px;
            border: 2px solid #ff6699;
            border-radius: 10px;
            font-size: 1.1em;
            width: 200px;
            text-align: center;
        }
        
        /* åŠŸèƒ½åŒºåŸŸ */
        .sections {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            padding: 20px;
        }
        
        .section {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            border: 2px solid #ffcccc;
        }
        
        .section h3 {
            color: #ff3366;
            margin-bottom: 20px;
            font-size: 1.5em;
            border-bottom: 2px solid #ffe6e6;
            padding-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section h3 i {
            color: #ff6699;
        }
        
        /* çºªå¿µæ—¥ */
        .anniversary-item {
            background: #fff5f5;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 10px;
            border-left: 5px solid #ff6699;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: transform 0.3s;
        }
        
        .anniversary-item:hover {
            transform: translateX(5px);
            background: #fff0f0;
        }
        
        /* æ—¥è®°è¾“å…¥ */
        textarea {
            width: 100%;
            height: 150px;
            padding: 15px;
            border: 2px solid #ffcccc;
            border-radius: 10px;
            font-size: 1em;
            resize: vertical;
            margin-bottom: 15px;
        }
        
        textarea:focus {
            outline: none;
            border-color: #ff6699;
            box-shadow: 0 0 0 3px rgba(255, 102, 153, 0.2);
        }
        
        .btn {
            background: linear-gradient(to right, #ff6699, #ff3366);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-weight: bold;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(255, 51, 102, 0.3);
        }
        
        /* ç…§ç‰‡å¢™ */
        .gallery {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 15px;
        }
        
        .photo {
            width: 100%;
            height: 100px;
            background: #f0f0f0;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #999;
            border: 2px dashed #ffcccc;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .photo:hover {
            background: #ffe6e6;
            color: #ff6699;
        }
        
        /* æ—¥è®°åˆ—è¡¨ */
        .diary-list {
            max-height: 300px;
            overflow-y: auto;
            margin-top: 15px;
        }
        
        .diary-item {
            background: #f9f9f9;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 10px;
            border-left: 4px solid #ff6699;
        }
        
        .diary-date {
            color: #ff6699;
            font-weight: bold;
            margin-bottom: 5px;
            font-size: 0.9em;
        }
        
        .diary-content {
            line-height: 1.6;
        }
        
        /* åº•éƒ¨ */
        .footer {
            text-align: center;
            padding: 25px;
            background: #fff5f5;
            color: #ff6699;
            border-top: 2px solid #ffe6e6;
            font-size: 1.1em;
        }
        
        /* å“åº”å¼ */
        @media (max-width: 768px) {
            .sections {
                grid-template-columns: 1fr;
                padding: 15px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            #love-days {
                font-size: 2.8em;
            }
            
            .gallery {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        /* çˆ±å¿ƒåŠ¨ç”» */
        .heart {
            position: absolute;
            font-size: 20px;
            color: rgba(255, 255, 255, 0.5);
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(10deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- å¤´éƒ¨ -->
        <div class="header">
            <!-- æ¼‚æµ®çš„çˆ±å¿ƒ -->
            <div class="heart" style="top:10%; left:10%;">â¤ï¸</div>
            <div class="heart" style="top:20%; right:15%;">â¤ï¸</div>
            <div class="heart" style="bottom:30%; left:20%;">â¤ï¸</div>
            
            <h1><i class="fas fa-heart"></i> æˆ‘ä»¬çš„æ‹çˆ±æ—¥è®° <i class="fas fa-heart"></i></h1>
            <p>è®°å½•æˆ‘ä»¬åœ¨ä¸€èµ·çš„æ¯ä¸€ä¸ªç¾å¥½ç¬é—´</p>
        </div>
        
        <!-- æ‹çˆ±è®¡æ—¶å™¨ -->
        <div class="counter">
            <h2><i class="far fa-calendar-alt"></i> æˆ‘ä»¬åœ¨ä¸€èµ·</h2>
            <div id="love-days">0 å¤©</div>
            <p>æ¯ä¸€åˆ†æ¯ä¸€ç§’éƒ½å€¼å¾—çæƒœ</p>
            
            <div style="margin-top: 20px;">
                <label for="start-date">é€‰æ‹©æ‹çˆ±å¼€å§‹æ—¥æœŸï¼š</label><br>
                <input type="date" id="start-date" class="date-input">
                <button onclick="saveStartDate()" class="btn" style="margin-left: 10px;">
                    <i class="fas fa-save"></i> ä¿å­˜æ—¥æœŸ
                </button>
            </div>
        </div>
        
        <!-- åŠŸèƒ½åŒºåŸŸ -->
        <div class="sections">
            <!-- çºªå¿µæ—¥ -->
            <div class="section">
                <h3><i class="fas fa-gift"></i> é‡è¦çºªå¿µæ—¥</h3>
                <div id="anniversaries">
                    <div class="anniversary-item">
                        <span>ğŸ’• ç¬¬ä¸€ä¸ªæœˆ</span>
                        <span id="month1">å·²è¿‡</span>
                    </div>
                    <div class="anniversary-item">
                        <span>ğŸ’– ç¬¬100å¤©</span>
                        <span id="day100">å·²è¿‡</span>
                    </div>
                    <div class="anniversary-item">
                        <span>ğŸ‰ ç¬¬ä¸€å¹´</span>
                        <span id="year1">è¿˜æœ‰XXå¤©</span>
                    </div>
                    <div class="anniversary-item">
                        <span>ğŸ‚ ä½ çš„ç”Ÿæ—¥</span>
                        <span><input type="date" id="birthday1" class="date-input" style="width:140px; padding:5px;"></span>
                    </div>
                    <div class="anniversary-item">
                        <span>ğŸ‚ TAçš„ç”Ÿæ—¥</span>
                        <span><input type="date" id="birthday2" class="date-input" style="width:140px; padding:5px;"></span>
                    </div>
                </div>
            </div>
            
            <!-- å†™æ—¥è®° -->
            <div class="section">
                <h3><i class="fas fa-book"></i> å†™æ—¥è®°</h3>
                <textarea id="diary-content" placeholder="è®°å½•ä»Šå¤©çš„ç¾å¥½æ—¶åˆ»..."></textarea>
                <button onclick="addDiary()" class="btn">
                    <i class="fas fa-feather-alt"></i> ä¿å­˜æ—¥è®°
                </button>
                
                <div class="diary-list" id="diary-list">
                    <!-- æ—¥è®°ä¼šæ˜¾ç¤ºåœ¨è¿™é‡Œ -->
                    <div class="diary-item">
                        <div class="diary-date">2024å¹´1æœˆ1æ—¥</div>
                        <div class="diary-content">è¿™æ˜¯æˆ‘ä»¬æ‹çˆ±æ—¥è®°çš„ç¬¬ä¸€ç¯‡ï¼ğŸ¥°</div>
                    </div>
                </div>
            </div>
            
            <!-- ç…§ç‰‡å¢™ -->
            <div class="section">
                <h3><i class="fas fa-images"></i> æˆ‘ä»¬çš„ç…§ç‰‡å¢™</h3>
                <p>ä¸Šä¼ æˆ‘ä»¬çš„ç¾å¥½å›å¿†ï¼ˆéœ€è¦ç½‘ç»œç‰ˆæ‰èƒ½ä¿å­˜ï¼‰</p>
                <div class="gallery">
                    <div class="photo" onclick="addPhoto()">
                        <i class="fas fa-plus"></i> æ·»åŠ ç…§ç‰‡
                    </div>
                    <div class="photo" style="background:#ffe6e6;">åˆç…§1</div>
                    <div class="photo" style="background:#ffe6e6;">åˆç…§2</div>
                    <div class="photo" style="background:#ffe6e6;">çºªå¿µæ—¥</div>
                    <div class="photo" style="background:#ffe6e6;">æ—…è¡Œ</div>
                    <div class="photo" style="background:#ffe6e6;">æ—¥å¸¸</div>
                </div>
            </div>
            
            <!-- æ„¿æœ›æ¸…å• -->
            <div class="section">
                <h3><i class="fas fa-star"></i> æˆ‘ä»¬çš„æ„¿æœ›æ¸…å•</h3>
                <div style="margin-bottom: 15px;">
                    <input type="text" id="wish-input" placeholder="æ·»åŠ ä¸€ä¸ªå…±åŒæ„¿æœ›..." 
                           style="width:70%; padding:10px; border:2px solid #ffcccc; border-radius:8px;">
                    <button onclick="addWish()" class="btn" style="margin-left:10px;">
                        <i class="fas fa-plus"></i>
                    </button>
                </div>
                <div id="wish-list">
                    <div style="padding:10px; background:#f0f8ff; margin:5px 0; border-radius:8px; display:flex; align-items:center;">
                        <input type="checkbox" style="margin-right:10px;">
                        <span>ä¸€èµ·å»æµ·è¾¹çœ‹æ—¥å‡º ğŸŒ…</span>
                    </div>
                    <div style="padding:10px; background:#f0f8ff; margin:5px 0; border-radius:8px; display:flex; align-items:center;">
                        <input type="checkbox" style="margin-right:10px;">
                        <span>ä¸€èµ·åšä¸€é¡¿æµªæ¼«æ™šé¤ ğŸ½ï¸</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- åº•éƒ¨ -->
        <div class="footer">
            <p>â¤ï¸ ç”¨å¿ƒè®°å½•æˆ‘ä»¬çš„çˆ±æƒ…ï¼Œè®©æ¯ä¸€å¤©éƒ½å……æ»¡ç”œèœœ â¤ï¸</p>
            <p style="margin-top: 10px; font-size: 0.9em;">
                æ•°æ®ä¿å­˜åœ¨æœ¬åœ°æµè§ˆå™¨ä¸­ | åˆ†äº«ç»™TA: 
                <button onclick="sharePage()" class="btn" style="padding:8px 15px; font-size:0.9em; margin-left:10px;">
                    <i class="fas fa-share-alt"></i> åˆ†äº«æ­¤é¡µé¢
                </button>
            </p>
        </div>
    </div>

    <script>
        // é¡µé¢åŠ è½½æ—¶æ‰§è¡Œ
        document.addEventListener('DOMContentLoaded', function() {
            loadStartDate();
            updateLoveDays();
            loadDiaries();
            
            // è®¾ç½®é»˜è®¤æ—¥æœŸ
            let today = new Date();
            let tomorrow = new Date();
            tomorrow.setDate(today.getDate() + 100);
            let nextYear = new Date();
            nextYear.setFullYear(today.getFullYear() + 1);
            
            // è®¾ç½®çºªå¿µæ—¥
            document.getElementById('day100').textContent = formatDate(tomorrow);
            document.getElementById('year1').textContent = formatDate(nextYear);
        });
        
        // ä¿å­˜æ‹çˆ±å¼€å§‹æ—¥æœŸ
        function saveStartDate() {
            const startDate = document.getElementById('start-date').value;
            if (startDate) {
                localStorage.setItem('loveStartDate', startDate);
                updateLoveDays();
                alert('æ—¥æœŸä¿å­˜æˆåŠŸï¼ğŸ’–');
            } else {
                alert('è¯·å…ˆé€‰æ‹©æ—¥æœŸå“¦ï¼');
            }
        }
        
        // åŠ è½½æ‹çˆ±å¼€å§‹æ—¥æœŸ
        function loadStartDate() {
            const savedDate = localStorage.getItem('loveStartDate');
            if (savedDate) {
                document.getElementById('start-date').value = savedDate;
            } else {
                // é»˜è®¤è®¾ç½®ä¸º3ä¸ªæœˆå‰
                let defaultDate = new Date();
                defaultDate.setMonth(defaultDate.getMonth() - 3);
                let defaultDateStr = defaultDate.toISOString().split('T')[0];
                document.getElementById('start-date').value = defaultDateStr;
                localStorage.setItem('loveStartDate', defaultDateStr);
            }
        }
        
        // è®¡ç®—æ‹çˆ±å¤©æ•°
        function updateLoveDays() {
            const startDateStr = localStorage.getItem('loveStartDate');
            if (!startDateStr) return;
            
            const startDate = new Date(startDateStr);
            const today = new Date();
            
            // è®¡ç®—å¤©æ•°å·®
            const timeDiff = today.getTime() - startDate.getTime();
            const daysDiff = Math.floor(timeDiff / (1000 * 3600 * 24));
            
            // æ›´æ–°æ˜¾ç¤º
            document.getElementById('love-days').textContent = daysDiff + ' å¤©';
            
            // æ›´æ–°çºªå¿µæ—¥
            updateAnniversaries(startDate, daysDiff);
        }
        
        // æ›´æ–°çºªå¿µæ—¥
        function updateAnniversaries(startDate, days) {
            // ç¬¬ä¸€ä¸ªæœˆ
            const month1 = new Date(startDate);
            month1.setMonth(month1.getMonth() + 1);
            const month1Diff = Math.floor((new Date() - month1) / (1000 * 3600 * 24));
            
            if (month1Diff >= 0) {
                document.getElementById('month1').textContent = month1Diff + ' å¤©å‰';
            } else {
                document.getElementById('month1').textContent = 'è¿˜æœ‰ ' + Math.abs(month1Diff) + ' å¤©';
            }
            
            // ç¬¬100å¤©
            const day100 = new Date(startDate);
            day100.setDate(day100.getDate() + 100);
            const day100Diff = Math.floor((new Date() - day100) / (1000 * 3600 * 24));
            
            if (day100Diff >= 0) {
                document.getElementById('day100').textContent = day100Diff + ' å¤©å‰';
            } else {
                document.getElementById('day100').textContent = 'è¿˜æœ‰ ' + Math.abs(day100Diff) + ' å¤©';
            }
            
            // ç¬¬ä¸€å¹´
            const year1 = new Date(startDate);
            year1.setFullYear(year1.getFullYear() + 1);
            const year1Diff = Math.floor((new Date() - year1) / (1000 * 3600 * 24));
            
            if (year1Diff >= 0) {
                document.getElementById('year1').textContent = year1Diff + ' å¤©å‰';
            } else {
                document.getElementById('year1').textContent = 'è¿˜æœ‰ ' + Math.abs(year1Diff) + ' å¤©';
            }
        }
        
        // æ·»åŠ æ—¥è®°
        function addDiary() {
            const content = document.getElementById('diary-content').value;
            if (!content.trim()) {
                alert('å†™ç‚¹ä»€ä¹ˆå†ä¿å­˜å§ï¼');
                return;
            }
            
            const now = new Date();
            const dateStr = formatDate(now);
            const diary = { date: dateStr, content: content };
            
            // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
            let diaries = JSON.parse(localStorage.getItem('loveDiaries') || '[]');
            diaries.unshift(diary); // æ·»åŠ åˆ°å¼€å¤´
            localStorage.setItem('loveDiaries', JSON.stringify(diaries));
            
            // æ¸…ç©ºè¾“å…¥æ¡†
            document.getElementById('diary-content').value = '';
            
            // é‡æ–°åŠ è½½æ—¥è®°åˆ—è¡¨
            loadDiaries();
            
            alert('æ—¥è®°ä¿å­˜æˆåŠŸï¼ğŸ“–');
        }
        
        // åŠ è½½æ—¥è®°
        function loadDiaries() {
            const diaries = JSON.parse(localStorage.getItem('loveDiaries') || '[]');
            const diaryList = document.getElementById('diary-list');
            
            if (diaries.length === 0) {
                diaryList.innerHTML = '<div class="diary-item"><div class="diary-date">è¿˜æ²¡æœ‰æ—¥è®°å“¦</div><div class="diary-content">ç‚¹å‡»ä¸Šæ–¹å†™ä¸€ç¯‡å§ï¼</div></div>';
                return;
            }
            
            diaryList.innerHTML = '';
            diaries.forEach(diary => {
                const diaryItem = document.createElement('div');
                diaryItem.className = 'diary-item';
                diaryItem.innerHTML = `
                    <div class="diary-date">${diary.date}</div>
                    <div class="diary-content">${diary.content}</div>
                `;
                diaryList.appendChild(diaryItem);
            });
        }
        
        // æ·»åŠ ç…§ç‰‡
        function addPhoto() {
            alert('åœ¨çº¿ç‰ˆæœ¬éœ€è¦åç«¯æ”¯æŒæ‰èƒ½ä¸Šä¼ çœŸå®ç…§ç‰‡ã€‚\n\nä¸è¿‡ä½ å¯ä»¥ï¼š\n1. ä¿®æ”¹ä»£ç ä¸­çš„å›¾ç‰‡URL\n2. ä½¿ç”¨ç½‘ç»œç›¸å†Œé“¾æ¥\n3. æˆ–å°†ç…§ç‰‡æ”¾åœ¨åŒä¸€æ–‡ä»¶å¤¹ä¸­');
        }
        
        // æ·»åŠ æ„¿æœ›
        function addWish() {
            const wishInput = document.getElementById('wish-input');
            const wish = wishInput.value.trim();
            
            if (!wish) {
                alert('è¾“å…¥ä¸€ä¸ªæ„¿æœ›å§ï¼');
                return;
            }
            
            const wishList = document.getElementById('wish-list');
            const wishItem = document.createElement('div');
            wishItem.style.cssText = 'padding:10px; background:#f0f8ff; margin:5px 0; border-radius:8px; display:flex; align-items:center;';
            wishItem.innerHTML = `
                <input type="checkbox" style="margin-right:10px;" onchange="toggleWish(this)">
                <span>${wish}</span>
            `;
            
            wishList.appendChild(wishItem);
            wishInput.value = '';
            
            // ä¿å­˜æ„¿æœ›
            saveWishes();
        }
        
        // åˆ‡æ¢æ„¿æœ›å®ŒæˆçŠ¶æ€
        function toggleWish(checkbox) {
            const wishText = checkbox.nextElementSibling;
            if (checkbox.checked) {
                wishText.style.textDecoration = 'line-through';
                wishText.style.color = '#999';
            } else {
                wishText.style.textDecoration = 'none';
                wishText.style.color = '#333';
            }
            saveWishes();
        }
        
        // ä¿å­˜æ„¿æœ›
        function saveWishes() {
            // è¿™é‡Œç®€åŒ–å¤„ç†ï¼Œå®é™…é¡¹ç›®å¯ä»¥ä¿å­˜åˆ°localStorage
        }
        
        // åˆ†äº«é¡µé¢
        function sharePage() {
            if (navigator.share) {
                navigator.share({
                    title: 'æˆ‘ä»¬çš„æ‹çˆ±æ—¥è®°',
                    text: 'æ¥çœ‹çœ‹æˆ‘ä»¬çš„æ‹çˆ±æ—¥è®°å§ï¼',
                    url: window.location.href
                });
            } else {
                // å¤åˆ¶é“¾æ¥åˆ°å‰ªè´´æ¿
                navigator.clipboard.writeText(window.location.href)
                    .then(() => alert('é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼å‘é€ç»™TAå§ï¼ğŸ’Œ'))
                    .catch(() => alert('è¯·æ‰‹åŠ¨å¤åˆ¶é“¾æ¥åˆ†äº«ç»™TAï¼š' + window.location.href));
            }
        }
        
        // æ ¼å¼åŒ–æ—¥æœŸ
        function formatDate(date) {
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            return `${year}å¹´${month}æœˆ${day}æ—¥`;
        }
        
        // æ¯å¤©è‡ªåŠ¨æ›´æ–°å¤©æ•°
        setInterval(updateLoveDays, 60000); // æ¯åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡
    </script>
</body>
</html>
